<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Solvepnp 5 Methods In Opencv3</title><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@nimohunter" /><meta name="twitter:title" content="Solvepnp 5 Methods In Opencv3" /><meta name="twitter:description" content="Before BeginSolvePnP , Finds an object pose from 3D-2D point correspondences., which is the method that rebuild 3D position from 2D picture."><meta name="description" content="Before BeginSolvePnP , Finds an object pose from 3D-2D point correspondences., which is the method that rebuild 3D position from 2D picture."><link rel="icon" href="/assets/favicon.png"><link rel="apple-touch-icon" href="/assets/touch-icon.png"><link href="https://fonts.googleapis.com/css?family=Karla" rel="stylesheet"><link rel="stylesheet" href="/assets/core.css"><link rel="canonical" href="/notes/SolvePnP-5-Methods-in-Opencv3.html"><link rel="alternate" type="application/atom+xml" title="Nimo" href="/feed.xml" /></head><body><aside class="logo"> <a href="/"> <img src="https://www.gravatar.com/avatar/54f1cca533c3438df8a75544ff239fa8.png?s=80" class="gravatar"> </a> <span class="logo-prompt">Back to Home</span></aside><main> <noscript><style> article .footnotes { display: block; }</style></noscript><article><div class="center"><h1>Solvepnp 5 Methods In Opencv3</h1><time>March 21, 2017</time></div><div class="divider"></div><h4 id="before-begin">Before Begin</h4><p>SolvePnP , Finds an object pose from 3D-2D point correspondences., which is the method that rebuild 3D position from 2D picture.</p><p>We DO NOT Care about the how to use SolvePnP, we try to understand the inner meaning of SolvePnP, and the 5 methods.</p><h4 id="solvepnp-methods-and-paper-table">SolvePnP Methods and Paper table:</h4><table><thead><tr><th style="text-align: center">SolvePnP Methods</th><th style="text-align: center">Reference Paper</th></tr></thead><tbody><tr><td style="text-align: center">SOLVEPNP_ITERATIVE</td><td style="text-align: center">Based on Levenberg-Marquardt optimization</td></tr><tr><td style="text-align: center">SOLVEPNP_EPNP</td><td style="text-align: center">EPnP: Efficient Perspective-n-Point Camera Pose Estimation</td></tr><tr><td style="text-align: center">SOLVEPNP_P3P</td><td style="text-align: center">Complete Solution Classification for the Perspective-Three-Point Problem</td></tr><tr><td style="text-align: center">SOLVEPNP_DLS</td><td style="text-align: center">A Direct Least-Squares (DLS) Method for PnP</td></tr><tr><td style="text-align: center">SOLVEPNP_UPNP</td><td style="text-align: center">Exhaustive Linearization for Robust Camera Pose and Focal Length Estimation</td></tr></tbody></table><p>Methods for solving a PnP problem:</p><ul><li><strong>SOLVEPNP_ITERATIVE</strong> Iterative method is based on Levenberg-Marquardt optimization. In this case the function finds such a pose that minimizes reprojection error, that is the sum of squared distances between the observed projections imagePoints and the projected (using projectPoints ) objectPoints .</li><li><strong>SOLVEPNP_P3P</strong> Method is based on the paper of X.S. Gao, X.-R. Hou, J. Tang, H.-F. Chang “Complete Solution Classification for the Perspective-Three-Point Problem”. In this case the function requires exactly four object and image points.</li><li><strong>SOLVEPNP_EPNP</strong> Method has been introduced by F.Moreno-Noguer, V.Lepetit and P.Fua in the paper “EPnP: Efficient Perspective-n-Point Camera Pose Estimation”.</li><li><strong>SOLVEPNP_DLS</strong> Method is based on the paper of Joel A. Hesch and Stergios I. Roumeliotis. “A Direct Least-Squares (DLS) Method for PnP”.</li><li><strong>SOLVEPNP_UPNP</strong> Method is based on the paper of A.Penate-Sanchez, J.Andrade-Cetto, F.Moreno-Noguer. “Exhaustive Linearization for Robust Camera Pose and Focal Length Estimation”. In this case the function also estimates the parameters \f$f_x\f$ and \f$f_y\f$ assuming that both have the same value. Then the cameraMatrix is updated with the estimated focal length.</li></ul><hr /><h3 id="1-solvepnp_iterative">1. SOLVEPNP_ITERATIVE</h3><p>Accroding to <code class="highlighter-rouge">solvepnp.cpp</code>:</p><div class="highlighter-rouge"><pre class="highlight"><code>else if (flags == SOLVEPNP_ITERATIVE)
{
    CvMat c_objectPoints = opoints, c_imagePoints = ipoints;
    CvMat c_cameraMatrix = cameraMatrix, c_distCoeffs = distCoeffs;
    CvMat c_rvec = rvec, c_tvec = tvec;
    cvFindExtrinsicCameraParams2(&amp;c_objectPoints, &amp;c_imagePoints, &amp;c_cameraMatrix,
                                 c_distCoeffs.rows*c_distCoeffs.cols ? &amp;c_distCoeffs : 0,
                                 &amp;c_rvec, &amp;c_tvec, useExtrinsicGuess );
    result = true;
}
</code></pre></div><p>Which meanings this Method use the function <code class="highlighter-rouge">cvFindExtrinsicCameraParams2</code> in <code class="highlighter-rouge">calibration.cpp</code>.</p><h3 id="2-solvepnp_p3p">2. SOLVEPNP_P3P</h3><p>todo</p><h3 id="3-solvepnp_epnp">3. SOLVEPNP_EPNP</h3><p>todo</p><h3 id="4-solvepnp_dls">4. SOLVEPNP_DLS</h3><p>todo</p><h3 id="5-solvepnp_upnp">5. SOLVEPNP_UPNP</h3><p>todo</p></article><div class="page-navigation"> <a class="home" href="/" title="Back to Homepage">Home</a> <span> &middot; </span> <a class="prev" href="/notes/Install-OpenCV3-QT-in-Debian.html" title="PREV: Install Opencv3 Qt In Debian">&gt;&gt;</a></div></main><div class="footer"> <span class="block">Made with &hearts; using <a href="http://jekyllrb.com/">Jekyll</a> &amp; <a href="https://github.com/heiswayi/the-plain" title="The Plain theme by Heiswayi Nrird">The Plain</a> &middot; &lt;/&gt; on <a href="https://github.com/nimohunter" title="Hosted on GitHub">GitHub</a></span> <span class="block">&copy; 2017 Nimo</span></div></body></html>